<!-- Header -->
<header>
  <div class="container-fluid header-container">
    <div class="row no-gutters">
      <a class="col-md-2 logo" href="/films"></a>

      <nav class="col-md-10 navbar navbar-expand-sm navbar-light bg-white">
        <a class="navbar-brand" href="{{href}}"><i class="{{iconClass}}"></i></a>
        <a class="navbar-brand" href="{{href}}"><b>{{icon}}</b></a>
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span><!-- This compenent is what provides the three bar icon for the button --></button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <!-- The id name must match the data-target seen in row 27 -->
            <ul class="navbar-nav">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Genres
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="/films/action">Action<i class="fas fa-radiation-alt float-right"></i></a>
                  <a class="dropdown-item" href="/films/biopic">Biopic<i class="fas fa-user-tie float-right"></i></a>
                  <a class="dropdown-item" href="/films/comedy">Comedy<i class="fas fa-theater-masks float-right"></i></a>
                  <a class="dropdown-item" href="/films/crime">Crime<i class="fas fa-mask float-right"></i></a>
                  <a class="dropdown-item" href="/films/drama">Drama<i class="fas fa-heartbeat float-right"></i></a>
                  <a class="dropdown-item" href="/films/fantasy">Fantasy<i class="fas fa-dragon float-right"></i></a>
                  <a class="dropdown-item" href="/films/history">History<i class="fab fa-fort-awesome float-right"></i></a>
                  <a class="dropdown-item" href="/films/horror">Horror<i class="fas fa-ghost float-right"></i></a>
                  <a class="dropdown-item" href="/films/kids">Kids<i class="fas fa-child float-right"></i></a>
                  <a class="dropdown-item" href="/films/legal">Legal<i class="fas fa-balance-scale float-right"></i></a>
                  <a class="dropdown-item" href="/films/musical">Musical<i class="fas fa-music float-right"></i></a>
                  <a class="dropdown-item" href="/films/romance">Romance<i class="fas fa-grin-hearts float-right"></i></a>
                  <a class="dropdown-item" href="/films/sports">Sports<i class="fas fa-futbol float-right"></i></a>
                  <a class="dropdown-item" href="/films/superhero">Superhero<i class="fab fa-superpowers float-right"></i></i></a>
                  <a class="dropdown-item" href="/films/thriller">Thriller<i class="far fa-surprise float-right"></i></a>
                  <a class="dropdown-item" href="/films/war">War<i class="fas fa-bomb float-right"></i></a>
                  <hr/>
                  <a class="dropdown-item" href="/films">Library<i class="fas fa-photo-video float-right"></i></a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  A-Z
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="/films/a_to_e">A-E</a>
                  <a class="dropdown-item" href="/films/f_to_j">F-J</a>
                  <a class="dropdown-item" href="/films/k_to_o">K-O</a>
                  <a class="dropdown-item" href="/films/p_to_t">P-T</a>
                  <a class="dropdown-item" href="/films/u_to_z">U-Z</a>
                  <hr/>
                  <a class="dropdown-item" href="/films/zero_to_nine">0-9</a>
                  <hr/>
                  <a class="dropdown-item" href="/films">Library<i class="fas fa-photo-video float-right"></i></a>
                </div>
              </li>

              <!-- Header - search box -->
              <li class="nav-item">
                <form class="form-inline" action="/films/search"  method="get">
                  <div class="">
                    <div class="form-group">
                      <div class="col-md-12">
                        <input type="text" id="searchName" class="form-control" name="search" placeholder="Search Films...">
                      </div>
                    </div>
                  </div>
                  <input type="submit" class="form-control btn btn-primary" name="submit" value="Search">
                </form>
              </li>
              <!-- /Header - /search box -->

              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-shopping-basket">{{#if cartusers}} {{#each_upto cartusers 1}} ({{../cartusers.length}}) {{/each_upto}} {{/if}}</i>
                </a>
                {{#if cartusers}}
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink" style="padding-right: 40px;" >

                  {{#each cartusers}}<form class="" action="/cart/delete/{{this._id}}" method="post">
                    <a class="dropdown-item" href="#">{{this.film.name}} - {{this.film.price}}
                      <input type="hidden" name="_method" value="DELETE" />
                      <button type="submit" class="btn-danger" style=" margin-right: -40px; float:right"><i class="fas fa-times float-right"></i></button>
                    </a></form>
                    {{/each}}
                    <hr/>
                    <!-- <a class="dropdown-item" href="#">Total: {{#total}}{{this.total}}{{/total}}</a>
                    <hr> -->
                    <a class="dropdown-item" href="/checkout">Go to Checkout<i style="margin-right: -40px;" class="fas fa-cart-arrow-down float-right"></i></a>
                  </div>
                  {{else}}
                  <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink" style="padding-right: 40px;" >
                    <a class="dropdown-item" href="#"> Basket is empty </a>
                  </div>
                  {{/if}}
            </li>


            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {{#users}}
                {{this.firstname}}'s Account
                {{/users}}
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="/account">My Details<i class="fas fa-info-circle float-right"></i></a>
                <a class="dropdown-item" href="/auth/session/destroy">Log Out<i class="fas fa-sign-out-alt float-right"></i></a>
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                MockBuster Playground
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="/blog">Blog<i class="fas fa-blog float-right"></i></a>
                <a class="dropdown-item" href="/chat">Chat Rooms<i class="fas fa-comments float-right"></i></a>
                <a class="dropdown-item" href="/quiz" role="button" aria-haspopup="true" aria-expanded="false">
                  Movie Quizzes <i style="margin-left:5px;" class="far fa-question-circle"></i>
                </a>
                <a class="dropdown-item" href="/videochat">Video Chat<i class="fas fa-video float-right"></i></a>
                </div>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>
